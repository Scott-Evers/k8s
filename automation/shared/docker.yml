- block:
  when: ansible_distribution in ['Fedora','RedHat','CentOS']

- block:
  - apt_key:
          url: https://download.docker.com/linux/ubuntu/gpg
  - apt_repository:
      repo: deb https://download.docker.com/linux/ubuntu bionic stable
      state: present
  - name: install docker
    apt:
            state: latest
            pkg:
            - docker-ce
            - docker-ce-cli
            - containerd.io
  - name: start docker
    service:
            name: docker
            state: started
  when: ansible_distribution == 'Ubuntu'